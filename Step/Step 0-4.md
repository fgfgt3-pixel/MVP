ì•Œê² ìŠµë‹ˆë‹¤ ğŸ‘ ì´ì–´ì„œ \*\*Step 0-4 (ì´ë²¤íŠ¸ ì €ì¥/ë¡œê¹… ê¸°ë³¸ êµ¬ì¡°)\*\*ë¥¼ Claude Codeìš© ì‹¤í–‰ í”„ë¡¬í”„íŠ¸ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì´ ë‹¨ê³„ëŠ” ì´í›„ ì˜¨ì…‹ íƒì§€Â·ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ìŒ“ì„ ìˆ˜ ìˆëŠ” ìµœì†Œ ì´ë²¤íŠ¸ ë¡œê¹… ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ëª©ì ì…ë‹ˆë‹¤.

---

# ğŸ“Œ Step 0-4 ì‹¤í–‰ í”„ë¡¬í”„íŠ¸ (Claude Codeìš©)

```
ì‘ì—…: Step 0-4 â€” ì´ë²¤íŠ¸ ì €ì¥/ë¡œê¹… ê¸°ë³¸ êµ¬ì¡° êµ¬í˜„

ìš”êµ¬ì‚¬í•­:

1. src/event_store.py ì‘ì„±
   - EventStore í´ë˜ìŠ¤ ì„¤ê³„
     - init(path="data/events")
     - save_event(event: dict) â†’ ì´ë²¤íŠ¸ë¥¼ JSONL(append ëª¨ë“œ)ë¡œ ì €ì¥
     - load_events(limit=None) â†’ JSONLì—ì„œ ì´ë²¤íŠ¸ ë¡œë“œ (ìµœëŒ€ limit ê°œ)
   - ì´ë²¤íŠ¸ í•„ë“œ ì˜ˆì‹œ:
     {
       "ts": 1720000000,        # unix timestamp
       "stock_code": "005930",
       "event_type": "onset_candidate",
       "score": 2.3,
       "extra": {"spread": 0.05}
     }
   - ì €ì¥ í¬ë§·: JSON Lines (1í–‰=1ì´ë²¤íŠ¸)

2. src/logger.py ì‘ì„±
   - ê¸°ë³¸ ë¡œê¹… ì„¤ì •(logging ëª¨ë“ˆ)
   - ë¡œê·¸ ë ˆë²¨: INFO ì´ìƒ
   - ì¶œë ¥: ì½˜ì†” + logs/app.log íŒŒì¼
   - ë¡œê·¸ ë©”ì‹œì§€ ì˜ˆì‹œ: [2025-09-24 10:00:00] INFO replay row=...

3. scripts/event_test.py ì‘ì„±
   - ì˜ˆì‹œ ì´ë²¤íŠ¸ ìƒì„± í›„ EventStore.save_event() í˜¸ì¶œ
   - load_events()ë¡œ ë‹¤ì‹œ ë¶ˆëŸ¬ì™€ ì½˜ì†”ì— ì¶œë ¥
   - ë¡œê·¸ ë©”ì‹œì§€ í™•ì¸ (logger ì‚¬ìš©)

4. tests/test_event_store.py ì‘ì„±
   - save_event í›„ íŒŒì¼ ìƒì„± ì—¬ë¶€ í™•ì¸
   - load_events()ê°€ ì €ì¥ëœ dict ë¦¬ìŠ¤íŠ¸ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸
   - limit ì˜µì…˜ ë™ì‘ ê²€ì¦

ì¡°ê±´:
- Python 3.10 ê¸°ì¤€
- json, pathlib, logging í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©
- requirements.txt ì¶”ê°€ ë¶ˆí•„ìš”

ì™„ë£Œ ê¸°ì¤€:
- `python scripts/event_test.py` ì‹¤í–‰ ì‹œ ì´ë²¤íŠ¸ JSONLì— ê¸°ë¡ë˜ê³  ì •ìƒ ì¶œë ¥
- logs/app.log íŒŒì¼ ìƒì„± ë° ë¡œê·¸ ê¸°ë¡ í™•ì¸
- pytest ì‹¤í–‰ ì‹œ test_event_store.py í†µê³¼
```

---

âœ… ì´ Step 0-4ê°€ ì™„ë£Œë˜ë©´, Phase 1ì—ì„œ cand./confirm ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì´ë¥¼ `EventStore`ì— ê¸°ë¡í•˜ê³ , ë°±í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ì—ì„œë„ ì¬í™œìš©í•  ìˆ˜ ìˆëŠ” ë¼ˆëŒ€ê°€ ë§ˆë ¨ë©ë‹ˆë‹¤.
