```
[ğŸ“‹ ì‘ì—… íŒ¨í‚¤ì§€ C - ìµœì¢… ì‹¤í–‰ ê³„íš]

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš ï¸ ë¬¸ì œ ì •ë¦¬
- í˜„ì¬ step03_detect.py: DataFrame ë°°ì¹˜ ì²˜ë¦¬ ì „ìš© (--input file.csv)
- Modify 4.md ìš”êµ¬: JSONL line-by-line â†’ run_tick(raw) ë°©ì‹
- OnsetPipelineDF: run_batch()ë§Œ ìˆê³  run_tick() ì—†ìŒ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”§ ëŒ€ì‘ ë°©ì•ˆ ì„ íƒ

Option A: ìµœì†Œ ìˆ˜ì •
- csv_replay.py ìƒì„± (CSV â†’ JSONL ë³€í™˜)
- step03_detect.pyëŠ” ê¸°ì¡´ DataFrame ë°°ì¹˜ ë°©ì‹ ìœ ì§€
- Detection ì‹¤í–‰ì€ ì—¬ì „íˆ â€œ--input file.csv â†’ features_df â†’ pipeline.run_batch()â€
- ì¥ì : ì•ˆì •ì„±, ë³€ê²½ ìµœì†Œí™”
- ë‹¨ì : Modify 4 ìš”êµ¬(ìŠ¤íŠ¸ë¦¬ë°)ëŠ” ë¶ˆì™„ì „ ì¶©ì¡±

Option B: ìŠ¤íŠ¸ë¦¬ë° ì§€ì› ì¶”ê°€ (**ê¶Œì¥**)
- OnsetPipelineDFì— run_tick() ë©”ì„œë“œ ì¶”ê°€
  â†’ ë‚´ë¶€ì ìœ¼ë¡œ window ìœ ì§€ â†’ candidate/confirm/refractory í˜¸ì¶œ
- step03_detect.pyì— ëª¨ë“œ ì¶”ê°€ (--stream)
  â†’ stdin/JSONL line-by-line ì½ì–´ pipe.run_tick(raw) í˜¸ì¶œ
- README.mdì— ë‘ ëª¨ë“œ ë¬¸ì„œí™”:
  * ë°°ì¹˜ ëª¨ë“œ (--input CSV/JSONL â†’ run_batch)
  * ìŠ¤íŠ¸ë¦¬ë° ëª¨ë“œ (--stream stdin â†’ run_tick)
- ì¥ì : Modify 4 ìš”êµ¬ì‚¬í•­ ì¶©ì¡±, ì‹¤ì‹œê°„/ë¦¬í”Œë ˆì´ ê°€ëŠ¥
- ë‹¨ì : êµ¬í˜„ ë³µì¡ë„ ì¦ê°€

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… ì‹¤í–‰ ê³„íš (Option B ì ìš©)

1. **scripts/csv_replay.py**
   - CSV â†’ JSONL ë³€í™˜ê¸° (ì™„ë£Œ)

2. **src/detection/onset_pipeline_df.py**
   - run_batch(df) ê¸°ì¡´ ìœ ì§€
   - run_tick(raw) ì¶”ê°€ êµ¬í˜„ (tick ë‹¨ìœ„)
   - ë‚´ë¶€ ë²„í¼ ê´€ë¦¬ + candidate/confirm/refractory í˜¸ì¶œ

3. **scripts/step03_detect.py**
   - --input file.csv/jsonl â†’ run_batch()
   - --stream â†’ stdin ì½ê¸°, run_tick(raw) í˜¸ì¶œ

4. **README.md**
   - CSV â†’ JSONL ë³€í™˜ ì˜ˆì‹œ
   - step03_detect.py ë°°ì¹˜ ëª¨ë“œ / ìŠ¤íŠ¸ë¦¬ë° ëª¨ë“œ ì‹¤í–‰ ì˜ˆì‹œ ì¶”ê°€

5. **tests/test_step03_stdin.py**
   - stdin ê°€ì§œ ì…ë ¥ â†’ run_tick() ìŠ¤íŠ¸ë¦¬ë° ë™ì‘ í™•ì¸

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Œ ìµœì¢… ëª©í‘œ
- ë°°ì¹˜ & ìŠ¤íŠ¸ë¦¬ë° ëª¨ë“œ ëª¨ë‘ ì§€ì›
- CSV/JSONL â†’ batch
- JSONL stdin â†’ stream
- Modify 4 ìš”êµ¬ì‚¬í•­ ì™„ì „ ì¶©ì¡±
```
